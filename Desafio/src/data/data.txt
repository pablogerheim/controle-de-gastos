function getCalendarsEndpoint(): Promise<ICalendar[]> {
  return fetch("http://localhost:3001/calendars", {
    credentials: "include",
  }).then(handleResponse);
}

function getEventsEndpoint(from: string, to: string): Promise<IEvent[]> {
  return fetch(`http://localhost:3001/events?date_gte=${from}&date_lte=${to}&_sort=date,time`, {
    credentials: "include",
  }).then(handleResponse);
}

function updateEventEndpoint(event: IEditingEvent): Promise<IEvent> {
  return fetch(`http://localhost:3001/events/${event.id}`, {
    credentials: "include",
    method: "PUT",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify(event),
  }).then(handleResponse);
}

function getUserEndpoint(): Promise<IUser> {
  return fetch(`http://localhost:3001/auth/user`, {
    credentials: "include",
  }).then(handleResponse);
}

function signOutEndpoint(): Promise<IUser> {

  return fetch(`http://localhost:3001/auth/logout`, {
    credentials: "include",
    method: "POST",
  }).then(handleResponse);
}
